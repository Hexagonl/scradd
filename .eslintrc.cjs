/** @type {import("eslint").ESLint.ConfigData} */
module.exports = {
	env: { es2021: true, node: true },
	extends: ["eslint:recommended", "plugin:@typescript-eslint/recommended", "plugin:unicorn/all"],
	ignorePatterns: "dist",
	overrides: [
		{
			files: ".eslintrc.cjs",
			parserOptions: { sourceType: "script" },
			rules: {
				"sort-keys": ["error", "asc", { caseSensitive: false, natural: true }],
				"unicorn/prevent-abbreviations": "off",
				"unicorn/string-content": "off",
			},
		},
	],
	parser: "@typescript-eslint/parser",
	parserOptions: { ecmaVersion: "latest", sourceType: "module" },
	plugins: ["@typescript-eslint"],
	rules: {
		"no-fallthrough": "off",
		"no-mixed-spaces-and-tabs": "off",
		"no-sparse-arrays": "off",
		"quotes": ["error", "double", { avoidEscape: true }],
		"semi": ["error", "always"],
		"unicorn/catch-error-name": ["error", { ignore: [/(?:E|^e)rror(?:[^a-z]|$)/] }],
		"unicorn/explicit-length-check": "off",
		"unicorn/filename-case": ["error", { case: "camelCase" }],
		"unicorn/no-array-callback-reference": "off",
		"unicorn/no-array-reduce": "off",
		"unicorn/no-await-expression-member": "off",
		"unicorn/no-keyword-prefix": "off",
		"unicorn/no-nested-ternary": "off",
		"unicorn/no-process-exit": "off",
		"unicorn/no-unreadable-array-destructuring": "off",
		"unicorn/number-literal-case": "off",
		"unicorn/prefer-native-coercion-functions": "off", // TODO: add total-ts
		"unicorn/prevent-abbreviations": [
			"warn",
			{
				checkDefaultAndNamespaceImports: true,
				checkProperties: true,
				checkShorthandImports: true,
				checkShorthandProperties: true,
				replacements: {
					attr: false,
					attrs: false,
					cmd: { command: true },
					dev: false,
					dist: false,
					docs: false,
					dst: false,
					env: false,
					envs: false,
					func: false,
					function: { func: true },
					mod: false,
					pkg: false,
					prod: false,
					res: false,
					usr: { user: true },
				},
			},
		],
		"unicorn/string-content": [
			"warn",
			{
				patterns: {
					[/\.{3}/.source]: "…",
					'"': { message: 'Prefer `“` or `”` over `"`.', suggest: '"' },
					"'": "’",
					"->": "→",
					[/http:\/\//.source]: "https://",
				},
			},
		],
	},
};
